<h2>Minhas apreciações</h2>
<div id="reconhecimentos" reconhecimentos={{apreciacoes}}></div>
<button data-js="reconhecimentos-recebidos" id="reconhecimentos-recebidos" class="botao__perfil__apreciacoes">Reconhecimentos Recebidos</button>
<button data-js="reconhecimentos-feitos" id="reconhecimentos-feitos" class="botao__perfil__apreciacoes">Reconhecimentos Feitas</button>
{{#each this}}
<section class="feed-reconhecimentos caixa-feed">
	<div class="container">
		<div class="bloco-reconhecimento">
			<img
				class="img-reconhecedor"
				src="{{ foto this.reconhecedor__id usar_miniatura=true}}"
			/>

			<div class="reconhecimento-recebido">
                <div class="texto-reconhecimento">
                    {{#if this.pilar__nome}}
                    <strong data-id="1" data-js="ir-ao-perfil" class="apreciador">
                        {{ this.reconhecedor__nome }} em {{ this.pilar__nome }}
                    </strong>
                    {{/if}}
    
                    <div class="data-reconhecimento">{{ emDataLegivel this.data }}</div>
    
                    <p>{{this.feedback__descritivo}}</p>
                </div>
                <!-- Se  não tiver um agradecimento feito -->
                <div class="botao-agradecer">
                    <button> Agradecer </button>
                </div>

            </div>
            
			<button id="modal-botao" data-js="modal-botao" onClick="obterApreciacao('{{this.pilar__nome}}', '{{this.feedback__descritivo}}', '{{this.reconhecedor__nome}}', '{{this.reconhecido__nome}}')" name="compartilhar">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16" id="compartilhar" >
					<path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z" />
				</svg>
			</button>
		</div>
	</div>
</section>

{{else}}
<div class="ui yellow message">Ainda não possuo nenhuma apreciação.</div>
{{/each}}

<div id="container">
    <div class="modal" id="modal"></div>
    <div class="corpo-modal" id="corpo-modal">
        <div class="card" id="card">
            <div class="p">
                <div class="card">
                    <div class="card--conteudo">
                        <h1 class="card--titulo"></h1>
                        <div class="card--apreciacao">
                            <p class="card--mensagem"></p>
                            <p class="card--mensagemDe"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="baixar" onclick="salvarComo()">
            <img src="../static/img/botao-download.svg" alt="Icone de download" />
        </button>
        <button class="fecha" onclick="esconderModal()">
            <img src="../static/img/botao-fechar.svg" alt="Icone para fechar card" />
        </button>
    </div>
    
</div>

<div class="modal__adicionar-agradecimento">
    <div class="modal__agradecimento--fundo"></div>
    <div class="modal__agradecimento--container">
        <h1 class="titulo__modal"> Agradecer </h1>
        <form data-js="form_adicionar_agradecimento">
            <input hidden id="id_ciclo_edicao">
            <textarea class="input__agradecimento" cols="40" rows="4" tabindex="50" maxlength="63" placeholder="Digite aqui o agradecimento" required></textarea>
            <div class="botoes__modal__adicionar--agradecimento">
                <button class="botao__modal--agradecimento">Cancelar</button>
                <button type="submit" class="botao__modal--agradecimento">Confirmar</button>
            </div>
        </form>
    </div>
</div>

<script src="/static/app/perfil/apreciacoesPrint.js"></script>

<style>
    .modal__adicionar-agradecimento{
        display: none;
    }
    .modal__agradecimento--fundo{
        position: fixed;
        top: 0;
        left: 0;
        z-index: 2;

        width: 100%;
        height: 100%;

        background: rgb(0, 0, 0, 0.5);
    }

    .modal__agradecimento--container{
        background-color: #2c006a;
        border-radius: 20px;
        padding: 8px;


        position: relative;
        width: 25%;
        margin: 300px auto;
    }

    .input__agradecimento{
        margin: 15px auto;
        resize: none;
        display: block;
        width: 80%;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
        padding: 8px;
    }

    .botoes__modal__adicionar--agradecimento{
        display: flex;
        flex-direction: row;
        justify-content: space-around;
        margin: 0px auto;
    }

    .botao__modal--agradecimento{
        padding: 8px;
        font-family: Campton-Bold;
        background-color: #2c006a;
        color: white;
        border: 0;
        width: 70%;
    }
    
    .botao__modal--agradecimento:hover{
        border: 1px solid #fff;
        border-radius: 20px;
    }


    .botao-agradecer{
        display: flex;
        justify-content: flex-end;
    }

    .botao-agradecer button{
        cursor: pointer;
        margin: 0;
        border: none;
        font-weight: 700;
        line-height: 1em;
        font-style: normal;
        text-align: center;
        text-decoration: none;
        border-radius: 0.28571429rem;
        box-shadow: 0 0 0 1px transparent inset, 0 0 0 0 rgb(34 36 38 / 15%) inset; 
        background-color: #2c006a !important;
        color: #fff !important;
        padding: 0.78571429em 1.5em;
    }
</style>