<h2>Minhas apreciações</h2>
<div id="reconhecimentos" reconhecimentos={{apreciacoes}}></div>
{{#each this.apreciacoes}}
<section class="feed-reconhecimentos caixa-feed">
	<div class="container">
		<div class="bloco-reconhecimento">
			<img
				class="img-reconhecedor"
				src="{{ foto this.reconhecedor__id usar_miniatura=true}}"
			/>

			<div class="texto-reconhecimento">
				{{#if this.pilar__nome}}
				<strong data-id="1" data-js="ir-ao-perfil" class="apreciador">
					{{ this.reconhecedor__nome }} em {{ this.pilar__nome }}
				</strong>
				{{else}}
				<strong data-id="1" data-js="ir-ao-perfil" class="apreciador">
					{{ this.reconhecedor__nome }} em {{ this.valor__nome }}
				</strong>
				{{/if}}

				<div class="data-reconhecimento">{{ emDataLegivel this.data }}</div>

				<p>{{this.feedback__descritivo}}</p>
			</div>
			<button id="modal-botao" onClick="obterApreciacao('{{this.pilar__nome}}', '{{this.feedback__descritivo}}', '{{this.reconhecedor__nome}}', '{{this.reconhecido__nome}}')" name="compartilhar">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16" id="compartilhar" >
					<path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z" />
				</svg>
			</button>
		</div>
	</div>
</section>

{{else}}
<div class="ui yellow message">Ainda não possuo nenhuma apreciação :(</div>
{{/each}}

<div id="container">
    <div class="modal" id="modal"></div>

    <div class="corpo-modal" id="corpo-modal">
        <div class="card" id="card">
            <div class="p">
                <div class="card">
                    <div class="card--conteudo">
                        <h1 class="card--titulo"></h1>
                        <div class="card--apreciacao">
                            <p class="card--mensagem"></p>
                            <p class="card--mensagemDe"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="baixar" onclick="salvarComo()">
            <img src="../static/img/botao-download.svg" alt="Icone de download" />
        </button>
        <button class="fecha" onclick="esconderModal()">
            <img src="../static/img/botao-fechar.svg" alt="Icone para fechar card" />
        </button>
    </div>
    
</div>

<script src="/static/app/perfil/apreciacoesPrint.js"></script>

<style>
	.bloco-reconhecimento {
		position: relative;;
	}

	#modal-botao{
		position: absolute;
		top: 10px;
		right: 12px;
		background: none;
		border: none;
	}

	.modal {
            background-color: gray;
    
            width: 100%;
            height: 100%;
    
            box-sizing: border-box;
    
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
    
            opacity: 0.5;
    
            filter: blur(90px);
            visibility: hidden;
            z-index: 1;
        }
    
        .corpo-modal {
            z-index: 2;
    
            width: 600px;
            height: 420px;
            visibility: hidden;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    
        .card {
            width: 650px;
            height: 650px;
    
            background-repeat: no-repeat;
            background-size: contain;
    
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            
            z-index: 2;
    
            text-align: left;
        }
    
        .card--conteudo {
            text-align: left;
    
            width: 550px;
            height: 50%;
    
            padding: 2% 0;
    
            margin: 0 auto;
        }
    
        .card--titulo {
            text-transform: uppercase;
    
            color: white;
    
            margin-bottom: 8px;
            position: relative;
            top: 40px;
            left: 75px;
            font-size: 32px;
            font-family: "Campton-Bold";
        }
    
        .card-apreciacao {
            width: 100%;
    
            display: flex;
            flex-direction: column;
    
            align-items: left;
        }
    
        .card--mensagemDe {
            color: #2b2567;
    
            font-size: 20px;
            text-align: left;
            position: relative;
            top: 230px;
            left: 25px;
            margin-bottom: 2px;
    
            font-family: "Campton-Light";
        }
    
        .card--mensagem {
            color: #2b2567;
    
            font-size: 18px;
            font-style: italic;
    
            width: 500px;
            height: 150px;
            position: relative;
    
            top: 250px;
            left: 30px;
    
            margin-top: 2px;
            margin-bottom: 64px;
    
            text-align: left;
            font-family: "Campton-Light";
        }
    
        .baixar {
            z-index: 2;
    
            position: fixed;
            bottom: -155px;
            right: -30px;
    
            background-color: transparent;
    
            border: 0;
    
            cursor: pointer;
    
            transform: scale(0.8);
        }
    
        .fecha {
            z-index: 2;
    
            position: fixed;
            top: -150px;
            right: -30px;
    
            background-color: transparent;
    
            border: 0;
    
            cursor: pointer;
    
            transform: scale(0.8);
        }
</style>
